{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lista de Personas Registradas</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- DataTables CSS -->
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css">

    <!-- DataTables Buttons CSS -->
    <link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.4.1/css/buttons.bootstrap5.min.css">

    <!-- Íconos -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

    <style>
        body {
            background-color: #f8f9fa;
        }
        table.dataTable thead th {
            background-color: #0d6efd;
            color: white;
        }
    </style>
</head>
<body>

<div class="container mt-4">
    <h2 class="mb-4"><i class="bi bi-people-fill"></i> Lista de Personas Registradas</h2>

    <table id="tabla-personas" class="table table-striped table-bordered" style="width:100%">
        <thead>
            <tr>
                <th>Cédula</th>
                <th>Nombre</th>
                <th>Apellido</th>
                <th>Estado</th>
                <th>Municipio</th>
                <th>Parroquia</th>
                <th>Universidad</th>
                <th>Dirección Universidad</th>
                <th>Tipo de Beca</th>
                <th>Lugar de Nacimiento</th>
                <th>Carrera Cursada</th>
                <th>Fecha de Ingreso</th>
                <th>Fecha de Egreso</th>
                <th>Titularidad</th>
                <th>Idiomas</th>
                <th>Ocupación Actual</th>
                <th>Becario Internacional en Venezuela</th>
                <th>Becario Venezolano en Venezuela</th>
                <th>Becario Venezolano en Exterior</th>
                <th>Fecha Registro</th>
            </tr>
        </thead>
    </table>
</div>

<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<!-- DataTables JS -->
<script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>

<!-- DataTables Buttons JS -->
<script src="https://cdn.datatables.net/buttons/2.4.1/js/dataTables.buttons.min.js"></script>
<script src="https://cdn.datatables.net/buttons/2.4.1/js/buttons.bootstrap5.min.js"></script>
<script src="https://cdn.datatables.net/buttons/2.4.1/js/buttons.html5.min.js"></script>
<script src="https://cdn.datatables.net/buttons/2.4.1/js/buttons.print.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>

<script>
$(document).ready(function() {
    $('#tabla-personas').DataTable({
        processing: true,
        serverSide: true,
        ajax: '{% url "lista_personas_ajax" %}',
        pageLength: 10,
        dom: 'Bfrtip',
        buttons: [
            { extend: 'copyHtml5', text: '<i class="bi bi-clipboard"></i> Copiar', className: 'btn btn-secondary' },
            { extend: 'excelHtml5', text: '<i class="bi bi-file-earmark-excel"></i> Excel', className: 'btn btn-success' },
            { extend: 'csvHtml5', text: '<i class="bi bi-filetype-csv"></i> CSV', className: 'btn btn-info' },
            { extend: 'pdfHtml5', text: '<i class="bi bi-file-earmark-pdf"></i> PDF', className: 'btn btn-danger' },
            { extend: 'print', text: '<i class="bi bi-printer"></i> Imprimir', className: 'btn btn-primary' }
        ],
        language: {
            url: "https://cdn.datatables.net/plug-ins/1.13.6/i18n/es-ES.json"
        },
        columns: [
            { data: 0 }, // Cédula
            { data: 1 }, // Nombre
            { data: 2 }, // Apellido
            { data: 3 }, // Estado
            { data: 4 }, // Municipio
            { data: 5 }, // Parroquia
            { data: 6 }, // Universidad
            { data: 7 }, // Dirección Universidad
            { data: 8 }, // Tipo de Beca
            { data: 9 }, // Lugar de Nacimiento
            { data: 10 }, // Carrera Cursada
            { data: 11 }, // Fecha Ingreso
            { data: 12 }, // Fecha Egreso
            { data: 13 }, // Titularidad
            { data: 14 }, // Idiomas
            { data: 15 }, // Ocupación Actual
            { data: 16 }, // Becario Internacional en Venezuela
            { data: 17 }, // Becario Venezolano en Venezuela
            { data: 18 }, // Becario Venezolano en Exterior
            { data: 19 }  // Fecha Registro
        ]
    });
});
</script>

</body>
</html>
